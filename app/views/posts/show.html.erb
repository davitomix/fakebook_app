
<p>
  <strong>Content:</strong>
  <%= @post.content %>
</p>

<% if @post.liked_posts.count > 0 %>
  <table>
    <thead>
      <tr>
        <th>Likes <%= @post.liked_posts.count %></th>
        <th colspan="1"></th>
      </tr>
    </thead>
    <tbody>
      <% @post.liked_posts.each do | ul | %>
        <tr>
          <td>Liked by</td>
          <td><%= ul.user.email %></td>
          <td><%= link_to 'Show', ul.user %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% end %>

<p>
  <strong>Email:</strong>
  <%= @post.user.email %>
</p>

<%= render 'comments/comment' %>

<%= render 'comment_form' %>

<% if current_user == @post.user %>
      <%= link_to 'Edit', edit_post_path(@post) %>
      <%= link_to "Delete", @post, method: :delete,
                                       data: { confirm: "You sure?" } %>
<% end %>
<% pre_like = @post.liked_posts.find { |liked_post| liked_post.user_id == current_user.id} %>
<% if pre_like %>
  <%= link_to 'Dislike', post_like_post_path(id: current_user.id, post_id: @post.id), method: :delete %>
<% else %>
  <%= link_to 'Like', post_like_posts_path(id: current_user.id, post_id: @post.id), method: :post %>
<% end %>
<%= link_to 'Back', current_user %>
